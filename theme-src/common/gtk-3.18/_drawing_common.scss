@mixin entry_button($t, $dir:'', $bor:'') {

  $_border: 3px;
  $_slice: 3 3 3 3;

  @if $bor=='' {
    @if $dir==rtl {
      $_slice: 4 3 4 4;
      $_border: 4px 3px 4px 4px;
	} @else if $dir==ltr {
      $_slice: 4 4 4 3;
      $_border: 4px 4px 4px 3px;
	} @else {
      $_slice: 4 3 4 3;
      $_border: 4px 3px 4px 3px;
	}
  }

  $d: if($dir=='','',"-#{$dir}");
  $b: if($bor=='','',"borderless-");

  border-width: $_border;
  border-style: solid;
  border-color: transparent;
  
  box-shadow: none;

  @if $t==normal {
    border-image: url("Entry/#{$b}entry-button-border#{$d}.png");
    background-image: url("Entry/entry-button-bg.png");
  }
  @if $t==hover {
    border-image: url("Entry/#{$b}entry-button-border#{$d}-hover.png");
    background-image: url("Entry/entry-button-bg-hover.png");
  }
  @if $t==active {
    border-image: url("Entry/#{$b}entry-button-border#{$d}-active.png");
    background-image: url("Entry/entry-button-bg-active.png");
  }
  @if $t==insensitive {
    border-image: url("Entry/#{$b}entry-button-border#{$d}-insensitive.png");
    background-image: url("Entry/entry-button-bg-insensitive.png");
  }

  border-image-slice: $_slice;
  background-size: 100% 100%;
  background-repeat: no-repeat;
}

@mixin progressbar_trough ($d:horizontal) {
  border-style: solid;
  border-color: transparent;
  border-image: url('Progressbar/progressbar_trough_#{$d}.png');
  background-color: $base_color;
  background-clip: padding-box;

  @if $d==horizontal {
    border-width: 3px 4px;
    border-image-slice: 3 4 3 4;
  } @else if $d==vertical {
    border-width: 4px 3px;
    border-image-slice: 4 3 4 3;
  }
}

@mixin toolbar_bg {
  border-style: solid;
  border-width: 1px 0px 1px 0px;
  border-top-color: white;
  border-bottom-color: $separator_color;
  background: $bg_color;
}

@mixin frame_inset {
  border: 2px solid transparent;
  border-image: url("Shadows/frame-inset.png");
  border-image-slice: 2 2 2 2;
  border-image-repeat: stretch;
}

@function _text_shadow_color ($tc:$fg_color, $bg:$bg_color) {
  $_lbg: lightness($bg)/100%;
  @if lightness($tc)<50% { @return transparentize(white,1-$_lbg/($_lbg*1.3)); }
  @else { @return transparentize(black,$_lbg*0.8); }
}

//@mixin _button_text_shadow ($tc:$fg_color, $bg:$bg_color) {
//  $_shadow: _text_shadow_color($tc, $bg);

//  @if lightness($tc)<50% {
//    text-shadow: 0px 1px $_shadow;
//  }
//  @else {
//    text-shadow: 0px -1px $_shadow;
//  }
//}
